# 游戏福利及活跃

::: tip 阅读本文大概需要15分钟

本文主要从游戏用户分层运营出发，对道具兑换码等玩法进行讨论，也许能对您提高日活、留存、玩家体验有所帮助哦。（施工中）

::: 

## 玩家运营

待补充

## 道具管理

访问【[道具管理](https://portal.ark.online/#/admin/prop-list)】新建游戏道具，道具可以展示在233乐园福利详情页，用户可以领取至背包可以在游戏内消耗（目前仅支持兑换码）；

![CleanShot 2024-02-21 at 15.09.11](https://arkimg.ark.online/CleanShot%202024-02-21%20at%2015.09.11.png)

### 新建道具

点击【新建】后会进入道具创建页面，需要配置的字段如下：

![CleanShot 2024-02-21 at 15.22.42](https://arkimg.ark.online/CleanShot%202024-02-21%20at%2015.22.42-8501351.png)

1. 道具名称：玩家在福利详情页领取完道具后，在233乐园背包查看到此道具的名称
2. 道具内容描述：背包页面展示，一般放些此兑换码可兑换的商品，比如xx道具*10，金币*100等
3. 时长类型：
   - 永久有效：用户领取之后没有失效限制，只要没在游戏内兑换过，无论何时都可以用；
   - 固定时间段：指定日期内有效，eg国庆礼包，只有在10.1-10.7到游戏内可以兑换其他时间无效；
   - 领取后生效：领取后X小时内有效，eg用户领取了礼包，要求在24H内使用否则无法失效；
4. 道具初始库存：根据需求设置，后续可在道具配置页面继续新增数量
5. 兑换码类型：
   - 唯一码：大家使用的兑换码都不一致；
   - 通兑码：每个人使用的兑换码都一样；
6. 发放形式：
   - 福利详情页领取：可配置到福利详情页领取，用户领取时会记录uuid+兑换码的绑定关系，如果A用户在详情页领了兑换码，私下将兑换码给了B，B是无法使用的，因为B和这个兑换码没有绑定关系
   - 其他场景：适用于线下发放，比如在游戏圈、社群运营等。游戏服务不会校验兑换人是否曾经领取过该兑换码，只要这个兑换码还没被使用过就能使用。
7. 道具兑换规则：
   - 仅可兑换一次：用户只能兑换一次这个道具，不可重复领取。eg在游戏圈放了通兑码，可以兑换50个金币，到游戏内兑换的时候仅可通过这个兑换码兑换1次50个金币，再次兑换时会提示用户只能兑换一次。通兑码默认只可以兑换一次，不可兑换多次。
   - 不限次数：用户只要有足够多的兑换码就可以兑换无数次，eg用户通过参加活动获得了5个兑换码，5个兑换码是同一个道具的兑换码，用户可以在游戏内使用这5个兑换码领取5次一样的礼物。适用于消耗形物品。
8. 道具信息：游戏内领取成功后，返回给游戏的json信息。开发者可以根据返回的信息来判断是哪个礼包，要发放哪些道具。

### 道具管理

道具审核后可对道具进行编辑、补货、查看&导出记录等操作。

![CleanShot 2024-02-21 at 15.55.28](https://arkimg.ark.online/CleanShot%202024-02-21%20at%2015.55.28.png)

**怎么补福利库存？**

1. 需要先补充福利绑定的道具库存，再补充福利库存。只补充福利配置的库存是不够的哦，必须确保道具有足够的库存233用户才能领取。
2. 在【[道具管理](https://portal.ark.online/#/admin/prop-list)】点击【补码】，按照需求新增数量，访问【[福利配置](https://portal.ark.online/#/admin/welfare-config)】更新目标福利库存；

![CleanShot 2024-02-21 at 16.18.14](https://arkimg.ark.online/CleanShot%202024-02-21%20at%2016.18.14.png)

![CleanShot 2024-02-21 at 16.18.55](https://arkimg.ark.online/CleanShot%202024-02-21%20at%2016.18.55.png)

## 游戏福利

访问【[福利配置](https://portal.ark.online/#/admin/welfare-config)】开通福利详情页，福利详情页会展示在游戏详情页的第二个tab。

![CleanShot 2024-02-21 at 16.21.30](https://arkimg.ark.online/CleanShot%202024-02-21%20at%2016.21.30.png)

### 福利详情页

游戏开通福利详情页后，可以关联道具并上线不同的福利活动；

<video controls src="https://cdn.233xyx.com/online/bZH4nMRyK8df1708504021721.mp4"></video>

点击右上角新建后，弹出福利配置，配置相关信息如下：

1. 福利名称：玩家在233乐园的福利详情页看到的福利信息
2. 福利时间：
   - 福利开始时间：福利开始可以领取的时间；
   - 福利结束时间：福利停止领取时间；
   - 福利关闭时间：福利不再对外展示在福利详情页的时间
3. 关联道具：在道具配置创建的道具，只可以选择发放形式选择福利详情页领取的道具
4. 使用方法介绍：领取方式，eg进入游戏后可在右上角我的-道具兑换中领取
5. 审核通过自动上线：
   - 是：审核通过后自动上线，不需要额外操作
   - 否：审核通过后，需要创作者到福利配置手动移动位置

![CleanShot 2024-02-21 at 16.32.21](https://arkimg.ark.online/CleanShot%202024-02-21%20at%2016.32.21.png)

### 兑换码

可通过API【[redeemGiftCode](https://api-docs.ark.online/classes/mw.PurchaseService.html#redeemgiftcode)】实现游戏内兑换，使用代码示例如下：

```ts
let player1 = Player.getAllPlayers()[0];
PurchaseService.redeemGiftCode(player1,"TestRedeemGiftCode1001",(result)=>{
    if(result.status == 1)
    {
        //兑换成功处理逻辑
        Debug.log("Redeem Success!");
        //根据message发放奖励
        //DoSomething......
    }
    else
    {
        //兑换失败处理逻辑
        Debug.error(result.message);
    }
});
```

**如何导出兑换码线下发放给玩家？**

1. 在【[道具管理](https://portal.ark.online/#/admin/prop-list)】点击【记录】查看道具详情，可在这里查看每一次生成的时间和数量，找到对应的时间点击【导出】；
2. 访问【财务与管理】-【[报表下载](https://portal.ark.online/#/admin/export-list)】下载兑换码文件，兑换码可直接在游戏内进行兑换；

![CleanShot 2024-02-21 at 16.08.56](https://arkimg.ark.online/CleanShot%202024-02-21%20at%2016.08.56.png)
